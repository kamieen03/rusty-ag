(this.webpackJsonpart_gallery=this.webpackJsonpart_gallery||[]).push([[0],{35:function(e,t,a){e.exports=a(66)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),s=a.n(i),c=(a(40),a(4)),o=a(5),l=a(9),u=a(7),p=a(6),h=(a(41),a(42),a(14)),m=a(79),d=a(3);function v(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-logo"},r.a.createElement(d.b,{to:"/"},"Artsee")),r.a.createElement(m.a,{onClick:function(){e.onStartSearching()}},r.a.createElement(h.e,{className:"header-search"})))}a(48);var f=a(11),E=a.n(f),y=a(18);a(50),a(51);function b(e){return r.a.createElement("ul",null," ",void 0!==e.data?e.data.slice(0,10).map((function(t,a){return r.a.createElement("li",{key:t[e.idFieldName],className:"LinkList-item"},r.a.createElement(d.b,{to:e.url+t[e.idFieldName],onClick:function(){return e.onLinkClick()}},t[e.valueFieldName]))})):null)}var g="https://rustyag.herokuapp.com/api",k="".concat(g,"/search/"),S="".concat(g,"/artist/"),N="".concat(g,"/paintings/"),j="".concat(g,"/art_movement/"),C=function(e){return"".concat(g,"/artist/").concat(e,"/paintings/")},O="".concat(g,"/popular/"),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={results:{}},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.searchPhrase!==e.searchPhrase){if(""===this.props.searchPhrase)return;this.fetchSearchResults(this.props.searchPhrase).then((function(e){null!=e&&t.setState({results:e})}))}}},{key:"fetchSearchResults",value:function(){var e=Object(y.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=fetch("".concat(k).concat(t)),t!==this.props.searchPhrase){e.next=5;break}return e.next=4,a;case 4:return e.abrupt("return",e.sent.json());case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return""===this.props.searchPhrase?null:r.a.createElement("div",{className:"SearchResults"},r.a.createElement("div",{className:"SearchResults-list"},r.a.createElement("h2",null,"Artists"),r.a.createElement(b,{onLinkClick:this.props.onLinkClick,data:this.state.results.artists,idFieldName:"url",valueFieldName:"name",url:"/artist/"})),r.a.createElement("div",{className:"SearchResults-list"},r.a.createElement("h2",null,"Paintings"),r.a.createElement(b,{onLinkClick:this.props.onLinkClick,data:this.state.results.artworks,idFieldName:"id",valueFieldName:"name",url:"/paintings/"})),r.a.createElement("div",{className:"SearchResults-list"},r.a.createElement("h2",null,"Styles"),r.a.createElement(b,{onLinkClick:this.props.onLinkClick,data:this.state.results.styles,idFieldName:"url",valueFieldName:"name",url:"/art_movement/"})))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={phrase:""},n.handleSearchPhraseChange=n.handleSearchPhraseChange.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"handleSearchPhraseChange",value:function(e){this.setState({phrase:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Searcher"},r.a.createElement("div",{className:"SearcherInsides"},r.a.createElement(m.a,{onClick:this.props.onStopSearching,className:"Searcher-close"},r.a.createElement(h.b,{className:"Searcher-close-icon"})),r.a.createElement("input",{className:"Searcher-searchbar",type:"search",placeholder:"Search",onChange:this.handleSearchPhraseChange}),r.a.createElement(A,{searchPhrase:this.state.phrase,onLinkClick:this.props.onStopSearching})))}}]),a}(r.a.Component);a(52);function w(){return r.a.createElement("div",{className:"CubeSpinner"},r.a.createElement("div",{className:"CubeSpinner-cube1"}),r.a.createElement("div",{className:"CubeSpinner-cube2"}))}a(53),a(54);function I(){return r.a.createElement("div",{className:"NoContentMessage"},r.a.createElement("div",{className:"NoContentMessage-dialog"},"Sorry, content not found"),r.a.createElement(h.f,{className:"NoContentMessage-icon"}))}a(55);function P(){return r.a.createElement("div",{className:"NoPhotoAvailable"},r.a.createElement(h.a,{className:"NoPhotoAvailable-icon"}),r.a.createElement("div",{className:"NoPhotoAvailable-dialog"},"No image available"))}var M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,hasError:!1,hasErrorImage:!1,data:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateArtist()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.props.onEntityUpdate(),this.setState({isLoaded:!1,data:null}),this.updateArtist())}},{key:"updateArtist",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t,a,n,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.props.url).concat(this.props.id));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({data:a,hasError:!1}),(n=new Image).onload=function(){r.setState({isLoaded:!0,hasErrorImage:!1}),r.props.onEntityLoad()},n.onerror=function(){r.setState({isLoaded:!0,hasErrorImage:!0}),r.props.onEntityLoad()},n.src=a[this.props.imgField],e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.setState({hasError:!0});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"createDescription",value:function(){var e=this;return this.props.fields.filter((function(t){return null!=e.state.data[t.property]})).map((function(t){return r.a.createElement("div",{className:"Entity-description-item",key:t.caption},r.a.createElement("div",{className:"Entity-description-item-property"},t.caption+":"),r.a.createElement("div",{className:"Entity-description-item-value"},e.createDescriptionItemValue(t)))}))}},{key:"createDescriptionItemValue",value:function(e){var t=this,a=this.state.data[e.property];return Array.isArray(a)?r.a.createElement("ul",null,a.map((function(a,n){return r.a.createElement("li",{key:n},t.convertArrayItem(e,a))}))):a}},{key:"convertArrayItem",value:function(e,t){return"object"===typeof t?r.a.createElement(d.b,{to:"/"+t[e.itemUrlProperty]},t[e.itemIdProperty]):t}},{key:"render",value:function(){if(this.state.isLoaded&&null!=this.state.data&&!this.state.hasError){var e=this.state.data[this.props.title];return r.a.createElement("div",{className:"Entity"},r.a.createElement("div",{className:"Entity-description"},r.a.createElement("h1",{className:"Entity-description-title"},e||"No title"),this.createDescription()),r.a.createElement("div",{className:"Entity-presentation"},this.state.hasErrorImage?r.a.createElement(P,null):r.a.createElement("img",{className:"Entity-presentation-image",src:this.state.data[this.props.imgField]})))}return this.state.hasError?r.a.createElement("div",{className:"Entity-nocontent"},r.a.createElement(I,null)):r.a.createElement("div",null,r.a.createElement(w,null))}}]),a}(n.Component),_=(a(56),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isEntityLoaded:!1},n.handleArtistLoad=n.handleArtistLoad.bind(Object(l.a)(n)),n.handleArtistUpdate=n.handleArtistUpdate.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"handleArtistLoad",value:function(){this.setState({isEntityLoaded:!0})}},{key:"handleArtistUpdate",value:function(){this.setState({isEntityLoaded:!1})}},{key:"render",value:function(){var e=this.props.match.params.artistId;return r.a.createElement("div",{className:"Artist"},r.a.createElement(M,{id:e,url:S,title:"name",fields:[{caption:"Born",property:"birth"},{caption:"Died",property:"death"},{caption:"Nationality",property:"nationality"},{caption:"Painting school",property:"painting_school"},{caption:"Art movement",property:"art_movement",itemIdProperty:"name",itemUrlProperty:"url"},{caption:"Influenced by",property:"influenced_by",itemIdProperty:"name",itemUrlProperty:"url"}],imgField:"image_url",onEntityLoad:this.handleArtistLoad,onEntityUpdate:this.handleArtistUpdate,className:"Artist-entity"}),this.state.isEntityLoaded?r.a.createElement(d.b,{className:"Artist-artworks",to:"/artist/".concat(e,"/paintings/")},"See artworks"):null)}}]),a}(n.Component));a(57),a(58);function x(e){var t={backgroundImage:"url(".concat(e.data.image,")"),backgroundSize:"cover",height:"100%"};return r.a.createElement("div",{className:"ArtworkCell"},r.a.createElement("div",{className:"ArtworkCell-picture"},r.a.createElement(d.b,{to:"/paintings/"+e.data.contentId},r.a.createElement("div",{style:t}))),r.a.createElement("div",{className:"ArtworkCell-description"},r.a.createElement("div",{className:"ArtworkCell-description-title"},e.data.title),r.a.createElement("div",{className:"ArtworkCell-description-year"},e.data.completitionYear)))}var U=a(2);a(59);function D(e){return r.a.createElement(d.b,{to:e.to,className:"BlackAndWhiteLink"},e.children)}a(60);var F=a(33),z=a.n(F),R=(a(62),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={cells:[],hasMore:n.props.cellsData.length>n.props.pageSize,initialLoad:!0},n.handleLoadMore=n.handleLoadMore.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"handleLoadMore",value:function(e){var t=this.props.pageSize*e;!0===this.state.initialLoad&&this.setState({initialLoad:!1}),this.props.cellsData.length>t?this.setState({cells:this.props.cellsData.slice(0,t)}):this.setState({cells:this.props.cellsData.slice(0,this.props.cellsData.length)})}},{key:"render",value:function(){var e=this.props.cellComponent;return r.a.createElement(z.a,{pageStart:0,loadMore:this.handleLoadMore,hasMore:this.state.hasMore,initialLoad:this.state.initialLoad,useWindow:!0,className:"GridView"},this.state.cells.map((function(t,a){return r.a.cloneElement(e,{key:a,data:t})})))}}]),a}(n.Component)),W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,items:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchItems();case 2:t=e.sent,this.setState({isLoaded:!0,items:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchItems",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.props.url));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"decodeIdToName",value:function(){return this.entityId.split("-").map((function(e){return e[0].toUpperCase()+e.substr(1)})).join(" ")}},{key:"render",value:function(){return r.a.createElement("div",{className:"Grid"},r.a.createElement("h2",{className:"Grid-title"},this.props.titleComponent),this.state.isLoaded?r.a.createElement(R,{cellsData:this.state.items,cellComponent:this.props.cellComponent,pageSize:20}):r.a.createElement(w,null))}}]),a}(n.Component);function B(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.substr(1)})).join(" ")}function G(){var e=Object(U.f)().artistId,t=r.a.createElement("div",null,r.a.createElement(D,{to:"/artist/"+e},B(e)),r.a.createElement("span",{style:{fontWeight:"normal"}}," paintings"));return r.a.createElement(W,{url:C(e),titleComponent:t,cellComponent:r.a.createElement(x,null)})}a(63);var V=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isEntityLoaded:!1},n.handleArtworkLoad=n.handleArtworkLoad.bind(Object(l.a)(n)),n.handleArtworkUpdate=n.handleArtworkUpdate.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"handleArtworkLoad",value:function(){this.setState({isEntityLoaded:!0})}},{key:"handleArtworkUpdate",value:function(){this.setState({isEntityLoaded:!1})}},{key:"render",value:function(){var e;e="match"in this.props?this.props.match.params.artworkId:this.props.artworkId;return r.a.createElement("div",{className:"Artwork"},r.a.createElement(M,{id:e,url:N,title:"title",fields:[{caption:"Artist",property:"artist_name"},{caption:"Year",property:"completition_year"},{caption:"Location",property:"location"},{caption:"Gallery",property:"gallery"},{caption:"Media",property:"media"},{caption:"Width",property:"size_x"},{caption:"Height",property:"size_y"}],imgField:"image",onEntityLoad:this.handleArtworkLoad,onEntityUpdate:this.handleArtworkUpdate}))}}]),a}(n.Component),J=(a(64),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={auto_spin:!0,paintings_iter:0,paintings:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetchPopular().then((function(t){e.setState({paintings:t}),setInterval((function(){e.state.auto_spin&&e.scroll(1,!0)}),7e3)}))}},{key:"fetchPopular",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("".concat(O)),e.next=3,t;case 3:return e.abrupt("return",e.sent.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"scroll",value:function(e,t){var a=this;this.setState({auto_spin:t,paintings_iter:function(){var t=(a.state.paintings_iter+e)%a.state.paintings.length;return t>=0?t:a.state.paintings.length-1}()})}},{key:"render",value:function(){var e=this;return null==this.state.paintings?null:r.a.createElement("div",{className:"Popular"},r.a.createElement(V,{artworkId:this.state.paintings[this.state.paintings_iter].id}),r.a.createElement("div",{className:"Popular-buttons"},r.a.createElement(m.a,{className:"Popular-next",onClick:function(){return e.scroll(-1,!1)}},r.a.createElement(h.c,null)),r.a.createElement(m.a,{className:"Popular-next",onClick:function(){return e.scroll(1,!1)}},r.a.createElement(h.d,null))))}}]),a}(n.Component));a(65);function Y(e){var t,a={backgroundImage:"url(".concat(e.data.image,")"),backgroundSize:"cover",height:"100%"};return r.a.createElement("div",{className:"ArtMovementCell"},r.a.createElement("div",{className:"ArtMovementCell-picture"},r.a.createElement(d.b,{to:"/paintings/"+e.data.id},r.a.createElement("div",{style:a}))),r.a.createElement("div",{className:"ArtMovementCell-description"},r.a.createElement("div",{className:"ArtMovementCell-description-title"},e.data.title),r.a.createElement(d.b,{to:"/artist/"+(t=e.data.artist_name,t.toLowerCase().replace(/\s/g,"-")),className:"ArtMovementCell-description-artist"},e.data.artist_name),r.a.createElement("div",{className:"ArtMovementCell-description-year"},e.data.year)))}function H(){var e=Object(U.f)().artMovementId,t=r.a.createElement("div",null,B(e));return r.a.createElement(W,{url:j+e,titleComponent:t,cellComponent:r.a.createElement(Y,null)})}var T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSearching:!1},n.handleStartSearching=n.handleStartSearching.bind(Object(l.a)(n)),n.handleStopSearching=n.handleStopSearching.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"handleStartSearching",value:function(){this.setState({isSearching:!0})}},{key:"handleStopSearching",value:function(){this.setState({isSearching:!1})}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(v,{onStartSearching:this.handleStartSearching})),r.a.createElement("main",{className:"App-main"},r.a.createElement(U.c,null,r.a.createElement(U.a,{path:"/artist/:artistId/paintings/",component:G}),r.a.createElement(U.a,{path:"/artist/:artistId/",component:_}),r.a.createElement(U.a,{path:"/paintings/:artworkId/",component:V}),r.a.createElement(U.a,{path:"/art_movement/:artMovementId/",component:H}),r.a.createElement(U.a,{path:"/",component:J}))),this.state.isSearching?r.a.createElement("div",{className:"App-searcher"},r.a.createElement(L,{onStopSearching:this.handleStopSearching})):null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.f31c9218.chunk.js.map